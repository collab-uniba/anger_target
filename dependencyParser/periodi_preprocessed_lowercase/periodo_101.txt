as far as the query shit  i have no idea if solrdispatchfilter or whatever couldshould do threadcurrentthreadsetnamex or whatever and maybe restore after     