Now I have to do in base classes something like public MyBase      set the value of discriminators field   kind = thisgetClassgetSimpleName  I think it is really ugly        