It sucks to lose the code readability  but it seems like a reasonable price to pay.     